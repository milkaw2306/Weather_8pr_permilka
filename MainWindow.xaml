<Window x:Class="Weather_8pr_permilka.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Weather_8pr_permilka"
        mc:Ignorable="d"
        Title="Погода" Height="600" Width="1000"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize">

    <Grid Background="#F5F7FA">
        <Grid Height="80" VerticalAlignment="Top">
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                    <GradientStop Color="#4A90E2" Offset="0"/>
                    <GradientStop Color="#357ABD" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>
            <Label Content="🌤️ Прогноз погоды"  HorizontalAlignment="Center"  VerticalAlignment="Center"  FontSize="28"  FontWeight="SemiBold"  Foreground="White" FontFamily="Segoe UI"/>
        </Grid>
        <Border Width="220" Background="White"  Margin="10,90,0,10" HorizontalAlignment="Left" CornerRadius="8" BorderBrush="#E0E0E0" BorderThickness="1">
            <StackPanel Margin="15">
                <Label Content="📍 Введите город"  FontSize="16"  FontWeight="Medium"  Foreground="#333333" Margin="0,0,0,8"/>
                <TextBox x:Name="CityTextBox"  Height="40"  FontSize="14" Padding="10,0,10,0" BorderBrush="#4A90E2"  BorderThickness="2" Background="#F8F9FA" Foreground="#333333" CaretBrush="#4A90E2" VerticalContentAlignment="Center">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="TextBox">
                                        <Border x:Name="border"  Background="{TemplateBinding Background}"  BorderBrush="{TemplateBinding BorderBrush}"  BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="4">
                                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsFocused" Value="True">
                                                <Setter TargetName="border" Property="BorderBrush" Value="#2C6FB7"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBox.Style>
                </TextBox>
                <Button x:Name="UpdateButton"  Content="🔄 Обновить"  Height="42" Margin="0,20,0,0" Background="#4A90E2" Foreground="White" FontSize="14" FontWeight="SemiBold" BorderThickness="0" Cursor="Hand" Click="UpdateWeather_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border"  Background="{TemplateBinding Background}"  CornerRadius="4" Padding="10">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#3A80D2"/>
                                            </Trigger>
                                            <Trigger Property="IsPressed" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#2C6FB7"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
                <Border Margin="0,30,0,0"  Padding="15"  Background="#F0F7FF"  CornerRadius="6" BorderBrush="#D1E3F8" BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Статистика"  FontSize="14"   FontWeight="Medium"  Foreground="#4A90E2"  Margin="0,0,0,5"/>
                        <TextBlock x:Name="RequestCountTextBlock"  FontSize="24"  FontWeight="Bold"  Foreground="#2C6FB7" HorizontalAlignment="Center" TextAlignment="Center"/>
                        <TextBlock Text="запросов сегодня" FontSize="12"  Foreground="#666666" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
                <TextBlock Text="💡 Попробуйте: Москва, Лондон, Париж, Токио" FontSize="11" Foreground="#888888" TextWrapping="Wrap" Margin="0,20,0,0" FontStyle="Italic"/>

            </StackPanel>
        </Border>
        <Grid Margin="240,90,10,10">
            <Border Background="White" CornerRadius="8" BorderBrush="#E0E0E0" BorderThickness="1" Padding="1">

                <DataGrid x:Name="WeatherDataGrid" AutoGenerateColumns="False" HeadersVisibility="Column" GridLinesVisibility="None" RowBackground="#FFFFFF" AlternatingRowBackground="#F8F9FA" BorderBrush="Transparent" BorderThickness="0"
                          CanUserAddRows="False" CanUserDeleteRows="False" CanUserReorderColumns="False" CanUserResizeRows="False" CanUserSortColumns="True" SelectionMode="Single" SelectionUnit="FullRow" FontSize="13" VerticalGridLinesBrush="#E8E8E8" HorizontalGridLinesBrush="#E8E8E8">
                    <DataGrid.ColumnHeaderStyle>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="#4A90E2"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="FontWeight" Value="SemiBold"/>
                            <Setter Property="FontSize" Value="13"/>
                            <Setter Property="Height" Value="40"/>
                            <Setter Property="Padding" Value="10,0"/>
                            <Setter Property="BorderBrush" Value="#3A80D2"/>
                            <Setter Property="BorderThickness" Value="0,0,1,0"/>
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        </Style>
                    </DataGrid.ColumnHeaderStyle>
                    <DataGrid.RowStyle>
                        <Style TargetType="DataGridRow">
                            <Setter Property="Height" Value="40"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#F0F7FF"/>
                                </Trigger>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="#E3F2FD"/>
                                    <Setter Property="BorderBrush" Value="#4A90E2"/>
                                    <Setter Property="BorderThickness" Value="1"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.RowStyle>
                    <DataGrid.CellStyle>
                        <Style TargetType="DataGridCell">
                            <Setter Property="BorderBrush" Value="#E8E8E8"/>
                            <Setter Property="BorderThickness" Value="0,0,1,1"/>
                            <Setter Property="Padding" Value="10,0"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Foreground" Value="#333333"/>
                                    <Setter Property="Background" Value="Transparent"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.CellStyle>
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Дата и время"  Binding="{Binding DateTime}" Width="150"/>
                        <DataGridTextColumn Header="Температура" Binding="{Binding Temperature}"  Width="120"/>
                        <DataGridTextColumn Header="Давление" Binding="{Binding Pressure}" Width="110"/>
                        <DataGridTextColumn Header="Влажность" Binding="{Binding Humidity}" Width="110"/>
                        <DataGridTextColumn Header="Ветер" Binding="{Binding WindSpeed}" Width="100"/>
                        <DataGridTextColumn Header="Ощущается" Binding="{Binding FeelsLike}" Width="120"/>
                        <DataGridTextColumn Header="Описание" Binding="{Binding WeatherDescription}" Width="180"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>
            <Border x:Name="NoDataMessage" Visibility="Collapsed" Background="#F8F9FA" CornerRadius="8" VerticalAlignment="Center" HorizontalAlignment="Center" Padding="40,30">
                <StackPanel HorizontalAlignment="Center">
                    <TextBlock Text="☁️" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Данные не найдены" FontSize="18" FontWeight="SemiBold" Foreground="#666666" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="Введите название города и нажмите 'Обновить'" FontSize="14"  Foreground="#888888" HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>
        </Grid>
        <Border Height="40" Background="#F0F0F0" VerticalAlignment="Bottom" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0">
            <TextBlock Text="Погодные данные обновляются в реальном времени" FontSize="12" Foreground="#666666" VerticalAlignment="Center"  HorizontalAlignment="Center"/>
        </Border>

    </Grid>
    <Window.Resources>
        <Style x:Key="CellTextStyle" TargetType="TextBlock">
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Padding" Value="10,0"/>
        </Style>
        <DropShadowEffect x:Key="ShadowEffect" Color="#20000000" BlurRadius="10" Direction="270" Opacity="0.2" ShadowDepth="2"/>
    </Window.Resources>
</Window>